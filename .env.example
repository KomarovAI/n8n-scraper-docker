# ==========================================
# Security Notice
# ==========================================
# 1. Copy this file to .env: cp .env.example .env
# 2. Generate strong passwords (20+ characters)
# 3. NEVER commit .env to Git (.gitignore prevents this)
# 4. Rotate passwords every 90 days
# 5. Use different passwords for each service
#
# Generate strong password:
#   openssl rand -base64 32
#   or: pwgen -s 32 1
# ==========================================

# Database Configuration
# REQUIRED: Must use strong password (min 20 chars)
# Example: openssl rand -base64 32
POSTGRES_PASSWORD=CHANGE_ME_TO_STRONG_PASSWORD_MIN_20_CHARS
POSTGRES_USER=scraper_user
POSTGRES_DB=scraper_db
POSTGRES_HOST=localhost
POSTGRES_PORT=5432

# Redis Configuration
# REQUIRED: Must set password for production
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE_ME_TO_STRONG_PASSWORD_MIN_20_CHARS

# ==========================================
# n8n User Management Configuration (n8n 1.x+)
# ==========================================
# ВАЖНО: ЭТО НЕ Basic Auth!
#
# n8n 1.0+ удалил Basic Auth полностью!
# Источник: https://docs.n8n.io/1-0-migration-checklist/
# "removes support for other authentication methods, such as BasicAuth"
#
# Новый подход (n8n 1.x User Management):
#   1. POST /rest/owner/setup - создание owner account
#      Body: { "email": N8N_USER, "password": N8N_PASSWORD }
#   2. Cookie session для аутентификации
#
# N8N_USER - ЭТО email для owner account (НЕ Basic Auth username!)
# N8N_PASSWORD - ЭТО пароль owner account (НЕ Basic Auth password!)
# ==========================================
N8N_USER=admin@example.com
N8N_PASSWORD=CHANGE_ME_TO_STRONG_PASSWORD_MIN_20_CHARS
N8N_HOST=localhost
N8N_PORT=5678

# Опционально: переопределение n8n Docker образа
# Production: n8nio/n8n:latest (default)
# CI/Development: n8n-enhanced:test
# N8N_IMAGE=n8nio/n8n:latest

# TOR Configuration
# REQUIRED: Must set Control Port password to prevent unauthorized circuit changes
TOR_SOCKS_HOST=localhost
TOR_SOCKS_PORT=9050
TOR_CONTROL_PORT=9051
TOR_CONTROL_PASSWORD=CHANGE_ME_TO_STRONG_PASSWORD_MIN_20_CHARS

# Grafana Configuration
# REQUIRED: Change default admin password
GRAFANA_USER=admin
GRAFANA_PASSWORD=CHANGE_ME_TO_STRONG_PASSWORD_MIN_20_CHARS
GRAFANA_PORT=3000
GRAFANA_ROOT_URL=http://localhost:3000

# Prometheus Configuration
PROMETHEUS_PORT=9090

# AI/ML Configuration
# Google Gemini API (FREE tier: 1500 requests/day)
# Get your free API key: https://aistudio.google.com
GEMINI_API_KEY=your_gemini_api_key_here

# Hugging Face API (optional, FREE tier: 500 requests/hour)
# Get your free token: https://huggingface.co/settings/tokens
HUGGINGFACE_TOKEN=

# Ollama Configuration (local LLM)
OLLAMA_URL=http://localhost:11434
OLLAMA_MODEL=llama3:8b

# ML Service Configuration
ML_SERVICE_URL=http://localhost:8000
ML_CACHE_TTL=86400
ML_SKLEARN_CONFIDENCE_THRESHOLD=0.70

# Scraper Configuration
MAX_CONCURRENT_REQUESTS=10
REQUEST_TIMEOUT=30
RETRY_ATTEMPTS=3
RATE_LIMIT_PER_SECOND=5

# Proxy Configuration
USE_TOR_PROXY=true
USE_FREE_PROXIES=false
PROXY_ROTATION_INTERVAL=300

# Logging
LOG_LEVEL=INFO
LOG_FILE=scraper.log

# Monitoring
ENABLE_METRICS=true
METRICS_PORT=8000

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=my-scraper-backups
BACKUP_S3_REGION=us-east-1
# Optional: AWS credentials for S3 backups
# AWS_ACCESS_KEY_ID=
# AWS_SECRET_ACCESS_KEY=